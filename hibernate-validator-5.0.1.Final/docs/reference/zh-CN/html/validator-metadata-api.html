<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">第 9 章 Using constraint metadata</title><link rel="stylesheet" href="css/hibernate.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="Hibernate Validator"/><link rel="up" href="index.html" title="Hibernate Validator"/><link rel="prev" href="chapter-bootstrapping.html" title="第 8 章 Bootstrapping"/><link rel="next" href="validator-integration.html" title="第 10 章 Integrating with other frameworks"/></head><body><p id="title"><a href="http://www.hibernate.org" class="site_href"><strong>Hibernate.org</strong></a><a href="http://hibernate.org/Documentation/DocumentationOverview" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="chapter-bootstrapping.html"><strong>上一页</strong></a></li><li class="next"><a accesskey="n" href="validator-integration.html"><strong>下一页</strong></a></li></ul><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="validator-metadata-api"/>第 9 章 Using constraint metadata</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="validator-metadata-api.html#d0e4477">9.1. BeanDescriptor</a></span></dt><dt><span class="section"><a href="validator-metadata-api.html#section-property-descriptor">9.2. PropertyDescriptor</a></span></dt><dt><span class="section"><a href="validator-metadata-api.html#d0e4630">9.3. MethodDescriptor and ConstructorDescriptor</a></span></dt><dt><span class="section"><a href="validator-metadata-api.html#validator-metadata-api-elementdescriptor">9.4. ElementDescriptor</a></span></dt><dt><span class="section"><a href="validator-metadata-api.html#section-group-conversion-descriptor">9.5. GroupConversionDescriptor</a></span></dt><dt><span class="section"><a href="validator-metadata-api.html#section-constraint-descriptor">9.6. ConstraintDescriptor</a></span></dt></dl></div><p>The Bean Validation specification provides not only a validation engine, but also an API for retrieving constraint metadata in a uniform way, no matter whether the constraints are declared using annotations or via XML mappings. Read this chapter to learn more about this API and its possibilities. You can find all the metadata API types in the package <span class="package">javax.validation.metadata</span>.</p><p>The examples presented in this chapter are based on the classes and constraint declarations shown in <a class="xref" href="validator-metadata-api.html#metadata-example-car" title="例 9.1. Example classes">例 9.1 “Example classes”</a>.</p><div class="example"><a id="metadata-example-car"/><p class="title"><b>例 9.1. Example classes</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;org</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">hibernate</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">validator</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">referenceguide</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">chapter07</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">Basic</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;name</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">getters&nbsp;and&nbsp;setters&nbsp;</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_separator">}</span></pre><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">interface</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Vehicle</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">Basic</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span><span class="java_separator">(</span><span class="java_plain">groups&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Vehicle</span><span class="java_separator">.</span><span class="java_type">Basic</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getManufacturer</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_separator">}</span></pre><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_plain">@</span><!-- <br/> --><span class="java_type">ValidCar</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;</span><span class="java_type">Vehicle</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">SeverityInfo</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Payload</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;max&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">14</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licensePlate</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;modelName</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Person</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;modelName</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">licensePlate&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">driver&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">modelName&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;modelName</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;driveAway</span><span class="java_separator">(</span><span class="java_plain">@</span><span class="java_type">Max</span><span class="java_separator">(</span><span class="java_literal">75</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;speed</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">LuggageCountMatchesPassengerCount</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;piecesOfLuggagePerPassenger&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validationAppliesTo&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">ConstraintTarget</span><span class="java_separator">.</span><span class="java_plain">PARAMETERS</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;payload&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">SeverityInfo</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;There&nbsp;must&nbsp;not&nbsp;be&nbsp;more&nbsp;than&nbsp;{piecesOfLuggagePerPassenger}&nbsp;pieces&nbsp;of&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;luggage&nbsp;per&nbsp;passenger.&quot;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;load</span><span class="java_separator">(</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;passengers</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">PieceOfLuggage</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;luggage</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Override</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">3</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getManufacturer</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setManufacturer</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Valid</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">ConvertGroup</span><span class="java_separator">(</span><span class="java_plain">from&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Default</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;to&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_separator">.</span><span class="java_type">Basic</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_plain">&nbsp;getDriver</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">further&nbsp;getters&nbsp;and&nbsp;setters</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div class="section" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="d0e4477"/>9.1. <code class="classname"><a id="section-bean-descriptor"/>BeanDescriptor</code></h2></div></div></div><p>The entry point into the metadata API is the method <code class="code">Validator#getConstraintsForClass()</code>, which returns an instance of the <a class="ulink" href="http://docs.jboss.org/hibernate/beanvalidation/spec/1.1/api/index.html?javax/validation/metadata/BeanDescriptor.html"><code class="classname">BeanDescriptor</code></a> interface. Using this descriptor, you can obtain metadata for constraints declared directly on the bean itself (class- or property-level), but also retrieve metadata descriptors representing single properties, methods and constructors.</p><p><a class="xref" href="validator-metadata-api.html#metadata-example-using-beandescriptor" title="例 9.2. Using BeanDescriptor">例 9.2 “Using BeanDescriptor”</a> demonstrates how to retrieve a <code class="classname">BeanDescriptor</code> for the <code class="classname">Car</code> class and how to use this descriptor in form of assertions.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>提示</h2><p>If a constraint declaration hosted by the requested class is invalid, a <code class="classname">ValidationException</code> is thrown.</p></div><div class="example"><a id="metadata-example-using-beandescriptor"/><p class="title"><b>例 9.2. Using <code class="classname">BeanDescriptor</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Validator</span><!-- <br/> --><span class="java_plain">&nbsp;validator&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">buildDefaultValidatorFactory</span><!-- <br/> --><span class="java_separator">().</span><!-- <br/> --><span class="java_plain">getValidator</span><!-- <br/> --><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">BeanDescriptor</span><span class="java_plain">&nbsp;carDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForClass</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">isBeanConstrained</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">one&nbsp;</span><span class="java_keyword">class</span><span class="java_operator">-</span><span class="java_plain">level&nbsp;constraint</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;licensePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;driver</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">3</span><span class="java_separator">,</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstrainedProperties</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">property&nbsp;has&nbsp;constraint</span>
<!--  --><br/><span class="java_plain">assertNotNull</span><span class="java_separator">(</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForProperty</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;licensePlate&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">property&nbsp;is&nbsp;marked&nbsp;with&nbsp;@</span><span class="java_type">Valid</span>
<!--  --><br/><span class="java_plain">assertNotNull</span><span class="java_separator">(</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForProperty</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;driver&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">constraints&nbsp;from&nbsp;getter&nbsp;method&nbsp;in&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;and&nbsp;implementation&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;are&nbsp;returned</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForProperty</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;manufacturer&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">property&nbsp;is&nbsp;not&nbsp;constrained</span>
<!--  --><br/><span class="java_plain">assertNull</span><span class="java_separator">(</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForProperty</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;modelName&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">driveAway</span><span class="java_separator">(</span><span class="java_type">int</span><span class="java_separator">),</span><span class="java_plain">&nbsp;load</span><span class="java_separator">(</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">PieceOfLuggage</span><span class="java_operator">&gt;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstrainedMethods</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">MethodType</span><span class="java_separator">.</span><span class="java_plain">NON_GETTER&nbsp;</span><span class="java_separator">).</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">driveAway</span><span class="java_separator">(</span><span class="java_type">int</span><span class="java_separator">),</span><span class="java_plain">&nbsp;getManufacturer</span><span class="java_separator">(),</span><span class="java_plain">&nbsp;getDriver</span><span class="java_separator">(),</span><span class="java_plain">&nbsp;load</span><span class="java_separator">(</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">PieceOfLuggage</span><span class="java_operator">&gt;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">4</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstrainedMethods</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">MethodType</span><span class="java_separator">.</span><span class="java_plain">NON_GETTER</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">MethodType</span><span class="java_separator">.</span><span class="java_plain">GETTER&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">driveAway</span><span class="java_separator">(</span><span class="java_type">int</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">assertNotNull</span><span class="java_separator">(</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;driveAway&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">getManufacturer</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">assertNotNull</span><span class="java_separator">(</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;getManufacturer&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">setManufacturer</span><span class="java_separator">()</span><span class="java_plain">&nbsp;is&nbsp;not&nbsp;constrained</span>
<!--  --><br/><span class="java_plain">assertNull</span><span class="java_separator">(</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;setManufacturer&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstrainedConstructors</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">assertNotNull</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForConstructor</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Person</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_separator">);</span></pre></div></div><br class="example-break"/><p>You can determine whether the specified class hosts any class- or property-level constraints via <code class="code">isBeanConstrained()</code>. Method or constructor constraints are not considered by <code class="methodname">isBeanConstrained()</code>.</p><p>The method <code class="code">getConstraintDescriptors()</code> is common to all descriptors derived from <code class="classname">ElementDescriptor</code> (see <a class="xref" href="validator-metadata-api.html#validator-metadata-api-elementdescriptor" title="9.4. ElementDescriptor">第 9.4 节 “ElementDescriptor”</a>) and returns a set of descriptors representing the constraints directly declared on the given element. In case of <code class="classname">BeanDescriptor</code>, the bean's class-level constraints are returned. More details on <code class="classname">ConstraintDescriptor</code> can be found in <a class="xref" href="validator-metadata-api.html#section-constraint-descriptor" title="9.6. ConstraintDescriptor">第 9.6 节 “ConstraintDescriptor”</a>.</p><p>Via <code class="methodname">getConstraintsForProperty()</code>, <code class="methodname">getConstraintsForMethod()</code> and <code class="methodname">getConstraintsForConstructor()</code> you can obtain a descriptor representing one given property or executable element, identified by its name and, in case of methods and constructors, parameter types. The different descriptor types returned by these methods are described in the following sections.</p><p>Note that these methods consider constraints declared at super-types according to the rules for constraint inheritance as described in <a class="xref" href="chapter-bean-constraints.html#section-constraint-inheritance" title="2.1.4. Constraint inheritance">第 2.1.4 节 “Constraint inheritance”</a>. An example is the descriptor for the <code class="varname">manufacturer</code> property, which provides access to all constraints defined on <code class="methodname">Vehicle#getManufacturer()</code> and the implementing method <code class="methodname">Car#getManufacturer()</code>. <code class="literal">null</code> is returned in case the specified element does not exist or is not constrained.</p><p>The methods <code class="methodname">getConstrainedProperties()</code>, <code class="methodname">getConstrainedMethods()</code> and <code class="methodname">getConstrainedConstructors()</code> return (potentially empty) sets with all constrained properties, methods and constructors, respectively. An element is considered constrained, if it has at least one constraint or is marked for cascaded validation. When invoking <code class="methodname">getConstrainedMethods()</code>, you can specify the type of the methods to be returned (getters, non-getters or both).</p></div><div class="section" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="section-property-descriptor"/>9.2. <code class="classname">PropertyDescriptor</code></h2></div></div></div><p>The interface <a class="ulink" href="http://docs.jboss.org/hibernate/beanvalidation/spec/1.1/api/index.html?javax/validation/metadata/PropertyDescriptor.html"><code class="classname">PropertyDescriptor</code></a> represents one given property of a class. It is transparent whether constraints are declared on a field or a property getter, provided the JavaBeans naming conventions are respected. <a class="xref" href="validator-metadata-api.html#metadata-example-using-propertydescriptor" title="例 9.3. Using PropertyDescriptor">例 9.3 “Using PropertyDescriptor”</a> shows how to use the <code class="classname">PropertyDescriptor</code> interface.</p><div class="example"><a id="metadata-example-using-propertydescriptor"/><p class="title"><b>例 9.3. Using <code class="classname">PropertyDescriptor</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">PropertyDescriptor</span><!-- <br/> --><span class="java_plain">&nbsp;licensePlateDescriptor&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;carDescriptor</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">getConstraintsForProperty</span><!-- <br/> --><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;licensePlate&quot;</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_literal">&quot;licensePlate&quot;</span><span class="java_plain">&nbsp;has&nbsp;two&nbsp;constraints</span><span class="java_separator">,</span><span class="java_plain">&nbsp;is&nbsp;not&nbsp;marked&nbsp;with&nbsp;@</span><span class="java_type">Valid</span><span class="java_plain">&nbsp;and&nbsp;defines&nbsp;no&nbsp;group&nbsp;conversions</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;licensePlate&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;licensePlateDescriptor</span><span class="java_separator">.</span><span class="java_plain">getPropertyName</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;licensePlateDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;licensePlateDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstraints</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertFalse</span><span class="java_separator">(</span><span class="java_plain">&nbsp;licensePlateDescriptor</span><span class="java_separator">.</span><span class="java_plain">isCascaded</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;licensePlateDescriptor</span><span class="java_separator">.</span><span class="java_plain">getGroupConversions</span><span class="java_separator">().</span><span class="java_plain">isEmpty</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">PropertyDescriptor</span><span class="java_plain">&nbsp;driverDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForProperty</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;driver&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_literal">&quot;driver&quot;</span><span class="java_plain">&nbsp;has&nbsp;no&nbsp;constraints</span><span class="java_separator">,</span><span class="java_plain">&nbsp;is&nbsp;marked&nbsp;with&nbsp;@</span><span class="java_type">Valid</span><span class="java_plain">&nbsp;and&nbsp;defines&nbsp;one&nbsp;group&nbsp;conversion</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;driver&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;driverDescriptor</span><span class="java_separator">.</span><span class="java_plain">getPropertyName</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;driverDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">isEmpty</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertFalse</span><span class="java_separator">(</span><span class="java_plain">&nbsp;driverDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstraints</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;driverDescriptor</span><span class="java_separator">.</span><span class="java_plain">isCascaded</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;driverDescriptor</span><span class="java_separator">.</span><span class="java_plain">getGroupConversions</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span></pre></div></div><br class="example-break"/><p>Using <code class="methodname">getConstrainedDescriptors()</code>, you can retrieve a set of <code class="classname">ConstraintDescriptor</code>s providing more information on the individual constraints of a given property. The method <code class="methodname">isCascaded()</code> returns <code class="literal">true</code>, if the property is marked for cascaded validation (either using the <code class="classname">@Valid</code> annotation or via XML), <code class="literal">false</code> otherwise. Any configured group conversions are returned by <code class="methodname">getGroupConversions()</code>. See <a class="xref" href="validator-metadata-api.html#section-group-conversion-descriptor" title="9.5. GroupConversionDescriptor">第 9.5 节 “GroupConversionDescriptor”</a> for more details on <code class="classname">GroupConversionDescriptor</code>.</p></div><div class="section" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="d0e4630"/>9.3. <code class="classname">MethodDescriptor</code> and <code class="classname">ConstructorDescriptor</code></h2></div></div></div><p>Constrained methods and constructors are represented by the interfaces <a class="ulink" href="http://docs.jboss.org/hibernate/beanvalidation/spec/1.1/api/index.html?javax/validation/metadata/MethodDescriptor.html"><code class="classname">MethodDescriptor</code></a> and <a class="ulink" href="http://docs.jboss.org/hibernate/beanvalidation/spec/1.1/api/index.html?javax/validation/metadata/ConstructorDescriptor.html"><code class="classname">ConstructorDescriptor</code></a>, respectively. <a class="xref" href="validator-metadata-api.html#metadata-example-using-methodandconstructordescriptor" title="例 9.4. Using MethodDescriptor and ConstructorDescriptor">例 9.4 “Using MethodDescriptor and ConstructorDescriptor”</a> demonstrates how to work with these descriptors.</p><div class="example"><a id="metadata-example-using-methodandconstructordescriptor"/><p class="title"><b>例 9.4. Using <code class="classname">MethodDescriptor</code> and <code class="classname">ConstructorDescriptor</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_operator">//</span><!-- <br/> --><span class="java_plain">driveAway</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_type">int</span><!-- <br/> --><span class="java_separator">)</span><!-- <br/> --><span class="java_plain">&nbsp;has&nbsp;a&nbsp;constrained&nbsp;parameter&nbsp;and&nbsp;an&nbsp;unconstrained&nbsp;</span><!-- <br/> --><span class="java_keyword">return</span><!-- <br/> --><span class="java_plain">&nbsp;value</span>
<!--  --><br/><span class="java_type">MethodDescriptor</span><span class="java_plain">&nbsp;driveAwayDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;driveAway&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">int</span><span class="java_separator">.</span><span class="java_keyword">class</span>
<!--  --><br/><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;driveAway&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;driveAwayDescriptor</span><span class="java_separator">.</span><span class="java_plain">getName</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;driveAwayDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedParameters</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertFalse</span><span class="java_separator">(</span><span class="java_plain">&nbsp;driveAwayDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedReturnValue</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">always&nbsp;returns&nbsp;an&nbsp;empty&nbsp;set</span><span class="java_separator">;</span><span class="java_plain">&nbsp;constraints&nbsp;are&nbsp;retrievable&nbsp;by&nbsp;navigating&nbsp;to</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">one&nbsp;of&nbsp;the&nbsp;sub</span><span class="java_operator">-</span><span class="java_plain">descriptors</span><span class="java_separator">,</span><span class="java_plain">&nbsp;e</span><span class="java_separator">.</span><span class="java_plain">g</span><span class="java_separator">.</span><span class="java_plain">&nbsp;</span><span class="java_keyword">for</span><span class="java_plain">&nbsp;the&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;value</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;driveAwayDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">isEmpty</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">ParameterDescriptor</span><span class="java_plain">&nbsp;speedDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;driveAwayDescriptor</span><span class="java_separator">.</span><span class="java_plain">getParameterDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">get</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_type">The</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;speed&quot;</span><span class="java_plain">&nbsp;parameter&nbsp;is&nbsp;located&nbsp;at&nbsp;index&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;has&nbsp;one&nbsp;constraint&nbsp;and&nbsp;is&nbsp;not&nbsp;cascaded</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">nor&nbsp;does&nbsp;it&nbsp;define&nbsp;group&nbsp;conversions</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;arg0&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;speedDescriptor</span><span class="java_separator">.</span><span class="java_plain">getName</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;speedDescriptor</span><span class="java_separator">.</span><span class="java_plain">getIndex</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;speedDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertFalse</span><span class="java_separator">(</span><span class="java_plain">&nbsp;speedDescriptor</span><span class="java_separator">.</span><span class="java_plain">isCascaded</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_keyword">assert</span><span class="java_plain">&nbsp;speedDescriptor</span><span class="java_separator">.</span><span class="java_plain">getGroupConversions</span><span class="java_separator">().</span><span class="java_plain">isEmpty</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">getDriver</span><span class="java_separator">()</span><span class="java_plain">&nbsp;has&nbsp;no&nbsp;constrained&nbsp;parameters&nbsp;but&nbsp;its&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;value&nbsp;is&nbsp;marked&nbsp;</span><span class="java_keyword">for</span><span class="java_plain">&nbsp;cascaded</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">validation&nbsp;and&nbsp;declares&nbsp;one&nbsp;group&nbsp;conversion</span>
<!--  --><br/><span class="java_type">MethodDescriptor</span><span class="java_plain">&nbsp;getDriverDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;getDriver&quot;</span>
<!--  --><br/><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertFalse</span><span class="java_separator">(</span><span class="java_plain">&nbsp;getDriverDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedParameters</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;getDriverDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedReturnValue</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">ReturnValueDescriptor</span><span class="java_plain">&nbsp;returnValueDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;getDriverDescriptor</span><span class="java_separator">.</span><span class="java_plain">getReturnValueDescriptor</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;returnValueDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">isEmpty</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;returnValueDescriptor</span><span class="java_separator">.</span><span class="java_plain">isCascaded</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;returnValueDescriptor</span><span class="java_separator">.</span><span class="java_plain">getGroupConversions</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">load</span><span class="java_separator">(</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">PieceOfLuggage</span><span class="java_operator">&gt;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;has&nbsp;one&nbsp;cross</span><span class="java_operator">-</span><span class="java_plain">parameter&nbsp;constraint</span>
<!--  --><br/><span class="java_type">MethodDescriptor</span><span class="java_plain">&nbsp;loadDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;load&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_separator">.</span><span class="java_keyword">class</span>
<!--  --><br/><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;loadDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedParameters</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertFalse</span><span class="java_separator">(</span><span class="java_plain">&nbsp;loadDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedReturnValue</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadDescriptor</span><span class="java_separator">.</span><span class="java_plain">getCrossParameterDescriptor</span><span class="java_separator">().</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">)</span><span class="java_plain">&nbsp;has&nbsp;one&nbsp;constrained&nbsp;parameter</span>
<!--  --><br/><span class="java_type">ConstructorDescriptor</span><span class="java_plain">&nbsp;constructorDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForConstructor</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Person</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Car&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constructorDescriptor</span><span class="java_separator">.</span><span class="java_plain">getName</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertFalse</span><span class="java_separator">(</span><span class="java_plain">&nbsp;constructorDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedReturnValue</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;constructorDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstrainedParameters</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructorDescriptor</span><span class="java_separator">.</span><span class="java_plain">getParameterDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">get</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span></pre></div></div><br class="example-break"/><p><code class="methodname">getName()</code> returns the name of the given method or constructor. The methods <code class="methodname">hasConstrainedParameters()</code> and <code class="methodname">hasConstrainedReturnValue()</code> can be used to perform a quick check whether an executable element has any parameter constraints (either constraints on single parameters or cross-parameter constraints) or return value constraints.</p><p>Note that any constraints are not directly exposed on <code class="classname">MethodDescriptor</code> and <code class="classname">ConstructorDescriptor</code>, but rather on dedicated descriptors representing an executable's parameters, its return value and its cross-parameter constraints. To get hold of one of these descriptors, invoke <code class="methodname">getParameterDescriptors()</code>, <code class="methodname">getReturnValueDescriptor()</code> or <code class="methodname">getCrossParameterDescriptor()</code>, respectively.</p><p>These descriptors provide access to the element's constraints (<code class="methodname">getConstraintDescriptors()</code>) and, in case of parameters and return value, to its configuration for cascaded validation (<code class="methodname">isValid()</code> and <code class="methodname">getGroupConversions()</code>). For parameters, you also can retrieve the index and the name, as returned by the currently used parameter name provider (see <a class="xref" href="chapter-bootstrapping.html#section-parameter-name-provider" title="8.2.4. ParameterNameProvider">第 8.2.4 节 “ParameterNameProvider”</a>) via <code class="methodname">getName()</code> and <code class="methodname">getIndex()</code>.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>提示</h2><p>Getter methods following the JavaBeans naming conventions are considered as bean properties but also as constrained methods.</p><p>That means you can retrieve the related metadata either by obtaining a <code class="classname">PropertyDescriptor</code> (e.g. <code class="code">BeanDescriptor.getConstraintsForProperty("foo")</code>) or by examining the return value descriptor of the getter's <code class="classname">MethodDescriptor</code> (e.g. <code class="code">BeanDescriptor.getConstraintsForMethod("getFoo").getReturnValueDescriptor()</code>).</p></div></div><div class="section" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="validator-metadata-api-elementdescriptor"/>9.4. <code class="classname">ElementDescriptor</code></h2></div></div></div><p>The <a class="ulink" href="http://docs.jboss.org/hibernate/beanvalidation/spec/1.1/api/index.html?javax/validation/metadata/ElementDescriptor.html"><code class="classname">ElementDiscriptor</code></a> interface is the common base class for the individual descriptor types such as <code class="classname">BeanDescriptor</code>, <code class="classname">PropertyDescriptor</code> etc. Besides <code class="methodname">getConstraintDescriptors()</code> it provides some more methods common to all descriptors.</p><p><code class="code">hasConstraints()</code> allows for a quick check whether an element has any direct constraints (e.g. class-level constraints in case of <code class="classname">BeanDescriptor</code>). <code class="methodname">getElementClass()</code> returns the Java type of the element represented by a given descriptor. More specifically, the method returns</p><div class="itemizedlist"><ul><li><p>the object type when invoked on <code class="classname">BeanDescriptor</code>,</p></li><li><p>the type of a property or parameter when invoked on <code class="classname">PropertyDescriptor</code> or <code class="classname">ParameterDescriptor</code> respectively,</p></li><li><p><code class="classname">Object[].class</code> when invoked on <code class="classname">CrossParameterDescriptor</code>,</p></li><li><p>the return type when invoked on <code class="classname">ConstructorDescriptor</code>, <code class="classname">MethodDescriptor</code> or <code class="classname">ReturnValueDescriptor</code>. <code class="classname">void.class</code> will be returned for methods which don't have a return value.</p></li></ul></div><p><a class="xref" href="validator-metadata-api.html#metadata-example-using-elementdescriptor" title="例 9.5. Using ElementDescriptor methods">例 9.5 “Using ElementDescriptor methods”</a> shows how these methods are used.</p><div class="example"><a id="metadata-example-using-elementdescriptor"/><p class="title"><b>例 9.5. Using <code class="classname">ElementDescriptor</code> methods</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">PropertyDescriptor</span><!-- <br/> --><span class="java_plain">&nbsp;manufacturerDescriptor&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;carDescriptor</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">getConstraintsForProperty</span><!-- <br/> --><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;manufacturer&quot;</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;manufacturerDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstraints</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;manufacturerDescriptor</span><span class="java_separator">.</span><span class="java_plain">getElementClass</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">CrossParameterDescriptor</span><span class="java_plain">&nbsp;loadCrossParameterDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;load&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_separator">.</span><span class="java_keyword">class</span>
<!--  --><br/><span class="java_separator">).</span><span class="java_plain">getCrossParameterDescriptor</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;loadCrossParameterDescriptor</span><span class="java_separator">.</span><span class="java_plain">hasConstraints</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Object</span><span class="java_separator">[].</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;loadCrossParameterDescriptor</span><span class="java_separator">.</span><span class="java_plain">getElementClass</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span></pre></div></div><br class="example-break"/><p>Finally, <code class="classname">ElementDescriptor</code> offers access to the <code class="classname">ConstraintFinder</code> API which allows you to query for constraint metadata in a fine grained way. <a class="xref" href="validator-metadata-api.html#example-constraint-finder" title="例 9.6. Usage of ConstraintFinder">例 9.6 “Usage of ConstraintFinder”</a> shows how to retrieve a <code class="classname">ConstraintFinder</code> instance via <code class="methodname">findConstraints()</code> and use the API to query for constraint metadata.</p><div class="example"><a id="example-constraint-finder"/><p class="title"><b>例 9.6. Usage of ConstraintFinder</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">PropertyDescriptor</span><!-- <br/> --><span class="java_plain">&nbsp;manufacturerDescriptor&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;carDescriptor</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">getConstraintsForProperty</span><!-- <br/> --><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;manufacturer&quot;</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_literal">&quot;manufacturer&quot;</span><span class="java_plain">&nbsp;constraints&nbsp;are&nbsp;declared&nbsp;on&nbsp;the&nbsp;getter</span><span class="java_separator">,</span><span class="java_plain">&nbsp;not&nbsp;the&nbsp;field</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manufacturerDescriptor</span><span class="java_separator">.</span><span class="java_plain">findConstraints</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">declaredOn</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">ElementType</span><span class="java_separator">.</span><span class="java_plain">FIELD&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">isEmpty</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">@</span><span class="java_type">NotNull</span><span class="java_plain">&nbsp;on&nbsp;</span><span class="java_type">Vehicle</span><span class="java_plain">#getManufacturer</span><span class="java_separator">()</span><span class="java_plain">&nbsp;is&nbsp;part&nbsp;of&nbsp;another&nbsp;group</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manufacturerDescriptor</span><span class="java_separator">.</span><span class="java_plain">findConstraints</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">unorderedAndMatchingGroups</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Default</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">@</span><span class="java_type">Size</span><span class="java_plain">&nbsp;on&nbsp;</span><span class="java_type">Car</span><span class="java_plain">#getManufacturer</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manufacturerDescriptor</span><span class="java_separator">.</span><span class="java_plain">findConstraints</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">lookingAt</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Scope</span><span class="java_separator">.</span><span class="java_plain">LOCAL_ELEMENT&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">@</span><span class="java_type">Size</span><span class="java_plain">&nbsp;on&nbsp;</span><span class="java_type">Car</span><span class="java_plain">#getManufacturer</span><span class="java_separator">()</span><span class="java_plain">&nbsp;and&nbsp;@</span><span class="java_type">NotNull</span><span class="java_plain">&nbsp;on&nbsp;</span><span class="java_type">Vehicle</span><span class="java_plain">#getManufacturer</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manufacturerDescriptor</span><span class="java_separator">.</span><span class="java_plain">findConstraints</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">lookingAt</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Scope</span><span class="java_separator">.</span><span class="java_plain">HIERARCHY&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_type">Combining</span><span class="java_plain">&nbsp;several&nbsp;filter&nbsp;options</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manufacturerDescriptor</span><span class="java_separator">.</span><span class="java_plain">findConstraints</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">declaredOn</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">ElementType</span><span class="java_separator">.</span><span class="java_plain">METHOD&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">lookingAt</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Scope</span><span class="java_separator">.</span><span class="java_plain">HIERARCHY&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">unorderedAndMatchingGroups</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Vehicle</span><span class="java_separator">.</span><span class="java_type">Basic</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span></pre></div></div><br class="example-break"/><p>Via <code class="methodname">declaredOn()</code> you can search for <code class="classname">ConstraintDescriptor</code>s declared on certain element types. This is useful to find property constraints declared on either fields or getter methods.</p><p><code class="methodname">unorderedAndMatchingGroups()</code> restricts the resulting constraints to those matching the given validation group(s).</p><p><code class="methodname">lookingAt()</code> allows to distinguish between constraints directly specified on the element (<code class="constant">Scope.LOCAL_ELEMENT</code>) or constraints belonging to the element but hosted anywhere in the class hierarchy (<code class="constant">Scope.HIERARCHY</code>).</p><p>You can also combine the different options as shown in the last example.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>警告</h2><p>Order is not respected by <code class="methodname">unorderedAndMatchingGroups()</code>, but group inheritance and inheritance via sequence are.</p></div></div><div class="section" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="section-group-conversion-descriptor"/>9.5. <code class="classname">GroupConversionDescriptor</code></h2></div></div></div><p>All those descriptor types that represent elements which can be subject of cascaded validation (i.e., <code class="classname">PropertyDescriptor</code>, <code class="classname">ParameterDescriptor</code> and <code class="classname">ReturnValueDescriptor</code>) provide access to the element's group conversions via <code class="methodname">getGroupConversions()</code>. The returned set contains a <a class="ulink" href="http://docs.jboss.org/hibernate/beanvalidation/spec/1.1/api/index.html?javax/validation/metadata/GroupConversionDescriptor.html"><code class="classname">GroupConversionDescriptor</code></a> for each configured conversion, allowing to retrieve source and target groups of the conversion. <a class="xref" href="validator-metadata-api.html#metadata-example-using-groupconversiondescriptor" title="例 9.7. Using GroupConversionDescriptor">例 9.7 “Using GroupConversionDescriptor”</a> shows an example.</p><div class="example"><a id="metadata-example-using-groupconversiondescriptor"/><p class="title"><b>例 9.7. Using <code class="classname">GroupConversionDescriptor</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">PropertyDescriptor</span><!-- <br/> --><span class="java_plain">&nbsp;driverDescriptor&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;carDescriptor</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">getConstraintsForProperty</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_literal">&quot;driver&quot;</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">GroupConversionDescriptor</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;groupConversions&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;driverDescriptor</span><span class="java_separator">.</span><span class="java_plain">getGroupConversions</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groupConversions</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">GroupConversionDescriptor</span><span class="java_plain">&nbsp;groupConversionDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;groupConversions</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">next</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Default</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groupConversionDescriptor</span><span class="java_separator">.</span><span class="java_plain">getFrom</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_separator">.</span><span class="java_type">Basic</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groupConversionDescriptor</span><span class="java_separator">.</span><span class="java_plain">getTo</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span></pre></div></div><br class="example-break"/></div><div class="section" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="section-constraint-descriptor"/>9.6. <code class="classname">ConstraintDescriptor</code></h2></div></div></div><p>Last but not least, the <a class="ulink" href="http://docs.jboss.org/hibernate/beanvalidation/spec/1.1/api/index.html?javax/validation/metadata/ConstraintDescriptor.html"><code class="classname">ConstraintDescriptor</code></a> interface describes a single constraint together with its composing constraints. Via an instance of this interface you get access to the constraint annotation and its parameters.</p><p><a class="xref" href="validator-metadata-api.html#metadata-example-using-constraintdescriptor" title="例 9.8. Using ConstraintDescriptor">例 9.8 “Using ConstraintDescriptor”</a> shows how to retrieve default constraint attributes (such as message template, groups etc.) as well as custom constraint attributes (<code class="varname">piecesOfLuggagePerPassenger</code>) and other metadata such as the constraint's annotation type and its validators from a <code class="classname">ConstraintDescriptor</code>.</p><div class="example"><a id="metadata-example-using-constraintdescriptor"/><p class="title"><b>例 9.8. Using <code class="classname">ConstraintDescriptor</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_operator">//</span><!-- <br/> --><span class="java_plain">descriptor&nbsp;</span><!-- <br/> --><span class="java_keyword">for</span><!-- <br/> --><span class="java_plain">&nbsp;the&nbsp;@</span><!-- <br/> --><span class="java_type">LuggageCountMatchesPassengerCount</span><!-- <br/> --><span class="java_plain">&nbsp;constraint&nbsp;on&nbsp;the</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">load</span><span class="java_separator">(</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">PieceOfLuggage</span><span class="java_operator">&gt;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;method</span>
<!--  --><br/><span class="java_type">ConstraintDescriptor</span><span class="java_operator">&lt;?&gt;</span><span class="java_plain">&nbsp;constraintDescriptor&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;carDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintsForMethod</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;load&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_separator">.</span><span class="java_keyword">class</span>
<!--  --><br/><span class="java_separator">).</span><span class="java_plain">getCrossParameterDescriptor</span><span class="java_separator">().</span><span class="java_plain">getConstraintDescriptors</span><span class="java_separator">().</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">constraint&nbsp;type</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">LuggageCountMatchesPassengerCount</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getAnnotation</span><span class="java_separator">().</span><span class="java_plain">annotationType</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">standard&nbsp;constraint&nbsp;attributes</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">SeverityInfo</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getPayload</span><span class="java_separator">().</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ConstraintTarget</span><span class="java_separator">.</span><span class="java_plain">PARAMETERS</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getValidationAppliesTo</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">Default</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getGroups</span><span class="java_separator">().</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;There&nbsp;must&nbsp;not&nbsp;be&nbsp;more&nbsp;than&nbsp;{piecesOfLuggagePerPassenger}&nbsp;pieces&nbsp;of&nbsp;luggage&nbsp;per&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;passenger.&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getMessageTemplate</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">custom&nbsp;constraint&nbsp;attribute</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getAttributes</span><span class="java_separator">().</span><span class="java_plain">get</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;piecesOfLuggagePerPassenger&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">no&nbsp;composing&nbsp;constraints</span>
<!--  --><br/><span class="java_plain">assertTrue</span><span class="java_separator">(</span><span class="java_plain">&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getComposingConstraints</span><span class="java_separator">().</span><span class="java_plain">isEmpty</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">validator&nbsp;</span><span class="java_keyword">class</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Arrays</span><span class="java_separator">.</span><span class="java_operator">&lt;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;&gt;</span><span class="java_plain">asList</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">LuggageCountMatchesPassengerCount</span><span class="java_separator">.</span><span class="java_type">Validator</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">),</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintDescriptor</span><span class="java_separator">.</span><span class="java_plain">getConstraintValidatorClasses</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_separator">);</span></pre></div></div><br class="example-break"/></div></div><HR xmlns=""/><a xmlns="" href=""><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">版权 © 2009 - 2013 Red Hat, Inc. &amp; Gunnar Morling</p></a><ul class="docnav"><li class="previous"><a accesskey="p" href="chapter-bootstrapping.html"><strong>上一页</strong>第 8 章 Bootstrapping</a></li><li class="up"><a accesskey="u" href="#"><strong>上一级</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>起始页</strong></a></li><li class="next"><a accesskey="n" href="validator-integration.html"><strong>下一页</strong>第 10 章 Integrating with other frameworks</a></li></ul></body></html>